---
name: code_mapping
description: 외부 코드를 내부 표준 코드로 변환하는 규칙과 방법을 정의하는 스킬
---
# Code Mapping Skill

## HOW: 코드 매핑 수행 방법

이 스킬은 외부 코드를 내부 표준 코드로 변환하는 구체적인 방법을 정의합니다.

---

## 변환 프로세스

### 1단계: 패턴 식별

외부 코드에서 prefix를 추출하여 패턴을 식별합니다.

**방법**:
```
입력: "EXT-PROD-001"
→ Prefix 추출: "EXT-PROD"
→ 매핑 테이블에서 규칙 조회
```

### 2단계: 숫자 추출

코드에서 숫자 부분을 추출합니다.

**방법**:
```
입력: "EXT-PROD-001"
→ 정규식 매칭: \d+
→ 결과: "001"
```

### 3단계: 표준 코드 생성

추출된 정보로 표준 코드를 생성합니다.

**방법**:
```
Prefix: "STD"
숫자: "001" (3자리 zero-padding)
카테고리: "A"
→ 결과: "STD-001-A"
```

---

## 매핑 규칙 테이블

| 외부 패턴 | 표준 Prefix | 카테고리 | 설명 |
|-----------|-------------|----------|------|
| EXT-PROD-XXX | STD | A | 외부 제품 코드 |
| EXT-SVC-XXX | STD | B | 외부 서비스 코드 |
| EXT-MAT-XXX | STD | C | 외부 자재 코드 |
| VENDOR-XXX | STD | V | 벤더 코드 |
| PARTNER-XXX | STD | P | 파트너 코드 |
| (알 수 없음) | STD | X | 기본 카테고리 |

---

## 예외 처리

### 숫자가 없는 경우

**방법**:
```
입력: "EXT-PROD-ABC"
→ 숫자 추출 실패
→ 기본값 "000" 사용
→ 결과: "STD-000-A"
```

### 알 수 없는 패턴

**방법**:
```
입력: "UNKNOWN-999"
→ 매핑 테이블에 없음
→ 카테고리 X 적용
→ 결과: "STD-999-X"
```

---

## 검증 규칙

변환 후 다음을 검증합니다:

1. **형식**: `STD-XXX-Y` 형태 준수
2. **숫자**: 3자리 zero-padding
3. **카테고리**: A, B, C, V, P, X 중 하나
